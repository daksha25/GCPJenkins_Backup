Started by user [8mha:////4C+RzKgWyO49TbLkHnIaiOjSo6AQdkn++EA3bnXLG0NwAAAAmB+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAy2EgYe/dLi1CL9lMTs4oxEAMbOizvBAAAA[0mdaksha
Building in workspace /var/lib/jenkins/workspace/GCPApplicationDeploy
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/daksha25/GCPDeployment.git # timeout=10
Fetching upstream changes from https://github.com/daksha25/GCPDeployment.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress https://github.com/daksha25/GCPDeployment.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision 3807c3739efb3975530563438e6f98340f7422e0 (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 3807c3739efb3975530563438e6f98340f7422e0
Commit message: "Update Home.xhtml"
 > git rev-list --no-walk 3807c3739efb3975530563438e6f98340f7422e0 # timeout=10
[GCPApplicationDeploy] $ /bin/sh -xe /tmp/jenkins8303251095324888614.sh
+ mvn clean install
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1mBuilding Pid_G_v8.0 0.0.1-SNAPSHOT[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:2.5:clean[m [1m(default-clean)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;34mINFO[m] Deleting /var/lib/jenkins/workspace/GCPApplicationDeploy/target
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;33mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[[1;34mINFO[m] Copying 3 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.6.1:compile[m [1m(default-compile)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;33mWARNING[m] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[[1;34mINFO[m] Compiling 24 source files to /var/lib/jenkins/workspace/GCPApplicationDeploy/target/classes
[[1;34mINFO[m] /var/lib/jenkins/workspace/GCPApplicationDeploy/src/com/DAO/ErrorRepositoryDAoImpl.java: /var/lib/jenkins/workspace/GCPApplicationDeploy/src/com/DAO/ErrorRepositoryDAoImpl.java uses unchecked or unsafe operations.
[[1;34mINFO[m] /var/lib/jenkins/workspace/GCPApplicationDeploy/src/com/DAO/ErrorRepositoryDAoImpl.java: Recompile with -Xlint:unchecked for details.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;33mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[[1;34mINFO[m] skip non existing resourceDirectory /var/lib/jenkins/workspace/GCPApplicationDeploy/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.6.1:testCompile[m [1m(default-testCompile)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;34mINFO[m] No sources to compile
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:2.12.4:test[m [1m(default-test)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;34mINFO[m] No tests to run.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-war-plugin:3.0.0:war[m [1m(default-war)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;34mINFO[m] Packaging webapp
[[1;34mINFO[m] Assembling webapp [Pid_G_v8.0] in [/var/lib/jenkins/workspace/GCPApplicationDeploy/target/Pid_G_v8.0-0.0.1-SNAPSHOT]
[[1;34mINFO[m] Processing war project
[[1;34mINFO[m] Copying webapp resources [/var/lib/jenkins/workspace/GCPApplicationDeploy/WebContent]
[[1;34mINFO[m] Webapp assembled in [128 msecs]
[[1;34mINFO[m] Building war: /var/lib/jenkins/workspace/GCPApplicationDeploy/target/infybank.war
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-install-plugin:2.4:install[m [1m(default-install)[m @ [36mPid_G_v8.0[0;1m ---[m
[[1;34mINFO[m] Installing /var/lib/jenkins/workspace/GCPApplicationDeploy/target/infybank.war to /var/lib/jenkins/.m2/repository/Pid_G_v8/0/Pid_G_v8.0/0.0.1-SNAPSHOT/Pid_G_v8.0-0.0.1-SNAPSHOT.war
[[1;34mINFO[m] Installing /var/lib/jenkins/workspace/GCPApplicationDeploy/pom.xml to /var/lib/jenkins/.m2/repository/Pid_G_v8/0/Pid_G_v8.0/0.0.1-SNAPSHOT/Pid_G_v8.0-0.0.1-SNAPSHOT.pom
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time: 5.107 s
[[1;34mINFO[m] Finished at: 2018-10-25T09:29:05Z
[[1;34mINFO[m] Final Memory: 20M/244M
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
+ docker build -t daksha25/infybankapp:4 .
Sending build context to Docker daemon  91.28MB
Step 1/5 : FROM tomcat:8.5
 ---> 05af71dd9251
Step 2/5 : COPY /target/infybank.war /usr/local/tomcat/webapps
 ---> f5d5308d30e9
Step 3/5 : WORKDIR /usr/local/tomcat
 ---> Running in 6ace33b31b16
Removing intermediate container 6ace33b31b16
 ---> 29371b1f2da0
Step 4/5 : RUN chmod +x bin/catalina.sh
 ---> Running in 96ccdf7427a2
Removing intermediate container 96ccdf7427a2
 ---> 71d2874123ba
Step 5/5 : CMD ["bin/catalina.sh", "run"]
 ---> Running in 9187410e4b67
Removing intermediate container 9187410e4b67
 ---> 5ebc0516fa1f
Successfully built 5ebc0516fa1f
Successfully tagged daksha25/infybankapp:4
Docker Build
Docker Build: building image at path /var/lib/jenkins/workspace/GCPApplicationDeploy
Step 1/5 : FROM tomcat:8.5


 ---> 05af71dd9251

Step 2/5 : COPY /target/infybank.war /usr/local/tomcat/webapps


 ---> Using cache

 ---> f5d5308d30e9

Step 3/5 : WORKDIR /usr/local/tomcat


 ---> Using cache

 ---> 29371b1f2da0

Step 4/5 : RUN chmod +x bin/catalina.sh


 ---> Using cache

 ---> 71d2874123ba

Step 5/5 : CMD ["bin/catalina.sh", "run"]


 ---> Using cache

 ---> 5ebc0516fa1f

Successfully built 5ebc0516fa1f

Tagging built image with daksha25/infybankapp:4
Docker Build Response : 5ebc0516fa1f
Pushing [daksha25/infybankapp:4]
The push refers to repository [docker.io/daksha25/infybankapp]
ded5ea358f5a: Preparing
1f6c3f8d8d79: Preparing
1a9d06dd524f: Preparing
de6d5c01d209: Preparing
4c67d93ae2ce: Preparing
b0b6904b7998: Preparing
ceaed1136256: Preparing
923bc9a5d019: Preparing
185c62a48a71: Preparing
d683471ab65a: Preparing
0f25831f224d: Preparing
08a01612ffca: Preparing
8bb25f9cdc41: Preparing
f715ed19c28b: Preparing
923bc9a5d019: Waiting
185c62a48a71: Waiting
d683471ab65a: Waiting
0f25831f224d: Waiting
08a01612ffca: Waiting
8bb25f9cdc41: Waiting
f715ed19c28b: Waiting
b0b6904b7998: Waiting
ceaed1136256: Waiting
ded5ea358f5a: Layer already exists
4c67d93ae2ce: Layer already exists
1a9d06dd524f: Layer already exists
de6d5c01d209: Layer already exists
1f6c3f8d8d79: Pushing [>                                                  ]  264.7kB/24.22MB
ceaed1136256: Layer already exists
923bc9a5d019: Layer already exists
b0b6904b7998: Layer already exists
185c62a48a71: Layer already exists
1f6c3f8d8d79: Pushing [==>                                                ]  1.313MB/24.22MB
1f6c3f8d8d79: Pushing [=======>                                           ]   3.41MB/24.22MB
1f6c3f8d8d79: Pushing [============>                                      ]  6.032MB/24.22MB
d683471ab65a: Layer already exists
1f6c3f8d8d79: Pushing [===============>                                   ]  7.343MB/24.22MB
08a01612ffca: Layer already exists
0f25831f224d: Layer already exists
8bb25f9cdc41: Layer already exists
1f6c3f8d8d79: Pushing [====================>                              ]  9.964MB/24.22MB
1f6c3f8d8d79: Pushing [=========================>                         ]  12.59MB/24.22MB
1f6c3f8d8d79: Pushing [===============================>                   ]  15.21MB/24.22MB
f715ed19c28b: Layer already exists
1f6c3f8d8d79: Pushing [================================>                  ]  15.73MB/24.22MB
1f6c3f8d8d79: Pushing [=====================================>             ]  18.35MB/24.22MB
1f6c3f8d8d79: Pushing [=========================================>         ]  19.93MB/24.22MB
1f6c3f8d8d79: Pushing [==============================================>    ]  22.55MB/24.22MB
1f6c3f8d8d79: Pushing [==================================================>]  24.23MB
1f6c3f8d8d79: Pushed
4: digest: sha256:b7d0b42e2dcad6a5a3ead75c7b4d21393088d96adc018962d79bc3dcc6ed29c5 size: 3256
Cleaning local images [5ebc0516fa1f]
Docker Build Done
[GCPApplicationDeploy] $ /bin/sh -xe /tmp/jenkins2921662445574351874.sh
+ gcloud container clusters get-credentials bankappdeploy --zone us-west1-b --project ci-cd-poc-218510
Fetching cluster endpoint and auth data.
kubeconfig entry generated for bankappdeploy.
+ kubectl run appdeploy --image=daksha25/infybankapp:4 --port=8080
kubectl run --generator=deployment/apps.v1beta1 is DEPRECATED and will be removed in a future version. Use kubectl create instead.
Error from server (AlreadyExists): deployments.apps "appdeploy" already exists
Build step 'Execute shell' marked build as failure
Finished: FAILURE
